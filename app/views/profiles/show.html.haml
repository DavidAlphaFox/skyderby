-if @profile.name
  - provide :title, @profile.name

.container

  = render 'profiles/header', profile: @profile

  .content-block
    .card-actions.text-right

      - if policy(@profile).edit?
        = link_to edit_profile_path(@profile), class: 'btn-flat' do
          %i.fa.fa-pencil
          = t('general.edit')

        - if policy(@profile).destroy?
          = link_to t('general.delete'),
                    @profile,
                    method: :delete,
                    remote: true,
                    data: { confirm: 'Are you sure you want to delete this profile?' },
                    class: 'btn-flat text-danger'

        - if @profile.belongs_to_user? && policy(@profile).masquerade?
          = link_to new_user_masquerades_path(@profile.owner), class: 'btn-flat' do
            %i.fa.fa-magic
            Masquerade

        - if policy(@profile).merge?
          = link_to new_profile_merge_path(@profile), remote: true, class: 'btn-flat' do
            Merge

    .profile-achievements
      .profile-section-header
        Достижения
        - if can? :create, Badge
          = link_to new_profile_badge_path(@profile), remote: true do
            %i.fa.fa-plus
            Add
      .profile-badges
        - @profile.badges.each do |badge|
          = render 'profiles/badges/badge', badge: badge

    .profile-rankings
      .profile-section-header
        Онлайн соревнования
    - unless @profile.personal_top_scores.blank?
      %hr
      .row
        .col-sm-12
          - @profile.personal_top_scores.each do |top_score|
            .col-sm-3
              %strong
                = "##{top_score.rank}"
              in
              = top_score.virtual_competition.name
    
